; Global PlatformIO configuration
[platformio]
; src_dir = src  ; should be there

[env:pic16f876a-multi]
; ‚ö†Ô∏è  UNOFFICIAL PLATFORM - NOT SUPPORTED BY MICROCHIP ‚ö†Ô∏è
; This platform is community-maintained and experimental
; Use at your own risk for development/testing purposes only
; Official Microchip tools: MPLAB X IDE, MPLAB XC8 compiler
; NOTE: Using local platform for testing - switch to GitHub URL once pushed
platform = file://./platform-pic8bit
; platform = https://github.com/s-celles/platform-pic8bit.git
board = pic16f876a
framework = pic-xc8

; Build configuration matching our SCons setup
build_flags = 
    -DDEBUG=1
    -Wall
    -O2

; Source directory for multi-file project (custom platform extension)
; Note: This works with the current platform but generates PlatformIO warnings
src_dir = src/multi

; Upload configuration
upload_protocol = custom
upload_command = echo "üì¶ Program device with MPLAB IPE: ${PROGPATH}"

; Monitor configuration
monitor_speed = 9600
monitor_port = COM3

[env:pic16f876a-simple]
; ‚ö†Ô∏è  UNOFFICIAL PLATFORM - NOT SUPPORTED BY MICROCHIP ‚ö†Ô∏è
; Simple single-file project
platform = file://./platform-pic8bit
board = pic16f876a
framework = pic-xc8

; Build configuration
build_flags = 
    -DDEBUG=1
    -Wall
    -O2

; Source directory for simple project (custom platform extension)  
; Note: This works with the current platform but generates PlatformIO warnings
src_dir = src/simple

; Upload configuration
upload_protocol = custom
upload_command = echo "üì¶ Program device with MPLAB IPE: ${PROGPATH}"

; Custom build flags for XC8
board_build.f_cpu = 4000000L
board_build.mcu = pic16f876a

; Remove incompatible flags
build_unflags = 
    -std=gnu11

; DISCLAIMER: This is EXPERIMENTAL and UNOFFICIAL
; For official support, use MPLAB X IDE
