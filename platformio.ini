; Global PlatformIO configuration
[platformio]
src_dir = src

[env:c-simple]
; ‚ö†Ô∏è  UNOFFICIAL PLATFORM - NOT SUPPORTED BY MICROCHIP ‚ö†Ô∏è
; This platform is community-maintained and experimental
; Use at your own risk for development/testing purposes only
; Official Microchip tools: MPLAB X IDE, MPLAB XC8 compiler
; NOTE: Using local platform for testing - switch to GitHub URL once pushed
; Simple single-file project
platform = file://./platform-pic8bit
; platform = https://github.com/s-celles/platform-pic8bit.git
board = pic16f876a
framework = pic-xc8

; Build configuration
build_flags = 
    -DDEBUG=1
    -Wall
    -O2

; Source filter to include only simple subdirectory
build_src_filter = -<*> +<simple/*>

; Upload configuration
;upload_protocol = custom
;upload_command = echo "üì¶ Program device with MPLAB IPE: ${PROGPATH}"

; Custom build flags for XC8
board_build.f_cpu = 4000000L
board_build.mcu = pic16f876a

; Remove incompatible flags
build_unflags = 
    -std=gnu11

; DISCLAIMER: This is EXPERIMENTAL and UNOFFICIAL
; For official support, use MPLAB X IDE

[env:c-multi]
; ‚ö†Ô∏è  UNOFFICIAL PLATFORM - NOT SUPPORTED BY MICROCHIP ‚ö†Ô∏è
platform = file://./platform-pic8bit
; platform = https://github.com/s-celles/platform-pic8bit.git
board = pic16f876a
framework = pic-xc8

; Build configuration matching our SCons setup
build_flags = 
    -DDEBUG=1
    -Wall
    -O2

; Source filter to include only multi subdirectory  
build_src_filter = -<*> +<multi/*>

; Upload configuration
;upload_protocol = custom
;upload_command = echo "üì¶ Program device with MPLAB IPE: ${PROGPATH}"

; Monitor configuration
;monitor_speed = 9600
;monitor_port = COM3

[env:asm-simple]
; ‚ö†Ô∏è  UNOFFICIAL PLATFORM - NOT SUPPORTED BY MICROCHIP ‚ö†Ô∏è
; Assembly single-file project
platform = file://./platform-pic8bit
; platform = https://github.com/s-celles/platform-pic8bit.git
board = pic16f876a
framework = pic-xc8

; Build configuration for assembly
build_flags = 
    -DDEBUG=1
    -Wall
    -O2

; Source filter to include only asm-simple subdirectory
build_src_filter = -<*> +<asm-simple/*>

; Upload configuration
;upload_protocol = custom
;upload_command = echo "üì¶ Program device with MPLAB IPE: ${PROGPATH}"

; Custom build flags for XC8
board_build.f_cpu = 4000000L
board_build.mcu = pic16f876a

; Remove incompatible flags
build_unflags = 
    -std=gnu11
    -std=c99

; DISCLAIMER: This is EXPERIMENTAL and UNOFFICIAL
; For official support, use MPLAB X IDE

